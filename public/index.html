<html>
<head>
	<title>Ejemplo de websockets jsuc3m</title>
	<script src="/socket.io/socket.io.js"></script>
</head>
<body>
	<textarea id='area'></textarea>
	<script type="text/javascript">
		var area = document.getElementById('area');
		var socket = io.connect(window.location.hostname+':8888');
		  socket.on('text update', function (data) {
		    console.log(data);
		    area.value = data.texto;
		    
		  });
		 /*area.addEventListener('change', function(){
		 	socket.emit('text update', { texto: area.value });
		 });*/
		 window.addEventListener('keyup', function(){
		 	socket.emit('text update', { texto: area.value });
		 });
	</script>
</body>
</html>